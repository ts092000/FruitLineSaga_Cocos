{"version":3,"sources":["file:///Users/ADMIN/Desktop/FruitLineSaga_Cocos/FruitLineSaga/FruitLineSaga_Cocos/assets/Script/ScoreManager.ts"],"names":["_decorator","Component","Label","DataGame","ccclass","property","ScoreManager","type","tooltip","score","start","setLabelBestScore","setLabelScoreGameOver","addScore","value","setLabelScore","dataGame","BestScore","getScore","convert","toString","length","i","listLabelScore","string","labelScoreGameOver","labelBestGameOver"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;;AACvBC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;8BAGjBM,Y,WADZF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEL,KADA;AAENM,QAAAA,OAAO,EAAE;AAFH,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEL,KADA;AAENM,QAAAA,OAAO,EAAE;AAFH,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEL,KADA;AAENM,QAAAA,OAAO,EAAE;AAFH,OAAD,C,2BAdb,MACaF,YADb,SACkCL,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAmBhCQ,KAnBgC,GAmBhB,CAnBgB;AAAA;;AAqB9BC,QAAAA,KAAK,GAAS;AACpB,eAAKC,iBAAL;AACA,eAAKC,qBAAL;AACH;;AAEMC,QAAAA,QAAQ,CAACC,KAAD,EAAsB;AACjC,eAAKL,KAAL,IAAcK,KAAd;AACA,eAAKC,aAAL;AACA,eAAKH,qBAAL;;AAEA,cAAI,KAAKH,KAAL,GAAa;AAAA;AAAA,oCAASO,QAAT,CAAkBC,SAAnC,EAA8C;AAC1C;AAAA;AAAA,sCAASD,QAAT,CAAkBC,SAAlB,GAA8B,KAAKR,KAAnC;AACA,iBAAKE,iBAAL;AACH;AACJ;;AAEMO,QAAAA,QAAQ,GAAW;AACtB,iBAAO,KAAKT,KAAZ;AACH;;AAEOM,QAAAA,aAAa,GAAS;AAC1B,cAAII,OAAe,GAAG,KAAKV,KAAL,CAAWW,QAAX,EAAtB;;AACA,iBAAOD,OAAO,CAACE,MAAR,GAAiB,CAAxB,EAA2BF,OAAO,GAAI,IAAGA,OAAQ,EAAtB;;AAE3B,eAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,OAAO,CAACE,MAA5B,EAAoCC,CAAC,EAArC,EAAyC,KAAKC,cAAL,CAAoBD,CAApB,EAAuBE,MAAvB,GAAgCL,OAAO,CAACG,CAAD,CAAvC;AAC5C;;AAEOV,QAAAA,qBAAqB,GAAS;AAClC,eAAKa,kBAAL,CAAwBD,MAAxB,GAAkC,GAAE,KAAKf,KAAM,EAA/C;AACH;;AAEOE,QAAAA,iBAAiB,GAAS;AAC9B,eAAKe,iBAAL,CAAuBF,MAAvB,GAAiC,GAAE;AAAA;AAAA,oCAASR,QAAT,CAAkBC,SAAU,EAA/D;AACH;;AAtDuC,O;;;;;iBAKD,E","sourcesContent":["import { _decorator, Component, Label, Node } from 'cc';\r\nimport { DataGame } from './Utils/DataGame';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ScoreManager')\r\nexport class ScoreManager extends Component {\r\n    @property({\r\n        type: Label,\r\n        tooltip: 'List label score'\r\n    })\r\n    private listLabelScore: Array<Label> = [];\r\n\r\n    @property({\r\n        type: Label,\r\n        tooltip: 'Label score game over'\r\n    })\r\n    private labelScoreGameOver: Label;\r\n\r\n    @property({\r\n        type: Label,\r\n        tooltip: 'Label best game over'\r\n    })\r\n    private labelBestGameOver: Label;\r\n\r\n    private score: number = 0;\r\n\r\n    protected start(): void {\r\n        this.setLabelBestScore();\r\n        this.setLabelScoreGameOver();\r\n    }\r\n\r\n    public addScore(value: number): void {\r\n        this.score += value;\r\n        this.setLabelScore();\r\n        this.setLabelScoreGameOver();\r\n\r\n        if (this.score > DataGame.dataGame.BestScore) {\r\n            DataGame.dataGame.BestScore = this.score;\r\n            this.setLabelBestScore();\r\n        }\r\n    }\r\n\r\n    public getScore(): number {\r\n        return this.score;\r\n    }\r\n\r\n    private setLabelScore(): void {\r\n        let convert: string = this.score.toString();\r\n        while (convert.length < 4) convert = `0${convert}`;\r\n\r\n        for (let i = 0; i < convert.length; i++) this.listLabelScore[i].string = convert[i];\r\n    }\r\n\r\n    private setLabelScoreGameOver(): void {\r\n        this.labelScoreGameOver.string = `${this.score}`;\r\n    }\r\n\r\n    private setLabelBestScore(): void {\r\n        this.labelBestGameOver.string = `${DataGame.dataGame.BestScore}`\r\n    }\r\n}\r\n\r\n"]}